\hypertarget{class_m_c_p2515}{\section{M\-C\-P2515 Class Reference}
\label{class_m_c_p2515}\index{M\-C\-P2515@{M\-C\-P2515}}
}


{\ttfamily \#include $<$mcp2515.\-h$>$}

Inheritance diagram for M\-C\-P2515\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_m_c_p2515}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_m_c_p2515_a8cd4111604b740feb758bd4d077f4fb8}{M\-C\-P2515} (const \hyperlink{class_m_c_p2515}{M\-C\-P2515} \&)=delete
\item 
void \hyperlink{class_m_c_p2515_aa8c9fe944f7e6e99feb3f56a1c099a29}{Send\-Message} (\hyperlink{struct_c_a_n___m_e_s_s_a_g_e}{C\-A\-N\-\_\-\-M\-E\-S\-S\-A\-G\-E} \&message)
\item 
void \hyperlink{class_m_c_p2515_a60a93ccc1a0b21caaba5fda5f88117d2}{Initialize} (\hyperlink{class_s_p_i___n_1_1_s_p_i}{S\-P\-I\-\_\-\-N\-::\-S\-P\-I} $\ast$spi, uint16\-\_\-t identifier)
\item 
void \hyperlink{class_m_c_p2515_a7aac5fdb713b83933391348f1188f2b9}{Set\-Loopback} ()
\item 
void \hyperlink{class_m_c_p2515_a58601a9d30863ebac441d641ddfac44e}{Set\-Normal} ()
\item 
void \hyperlink{class_m_c_p2515_a5a218199ca1dfcb25cb95890bc0220fc}{Request\-To\-Send} ()
\item 
void \hyperlink{class_m_c_p2515_adbc005a5975b77b0aef74363f3832f9b}{Write\-To\-Register} (uint8\-\_\-t register\-\_\-address, uint8\-\_\-t byte)
\item 
void \hyperlink{class_m_c_p2515_a09ef6973daccbf868d89986e727cfa1b}{Read\-From\-Register} (uint8\-\_\-t register\-\_\-address, uint8\-\_\-t \&byte)
\item 
void \hyperlink{class_m_c_p2515_aa4d4138b984dc87116cf72ae104acb70}{Reset} ()
\item 
void \hyperlink{class_m_c_p2515_aa9a35fe139adf1fccaaceec561544c14}{Bit\-Modify} (uint8\-\_\-t register\-\_\-address, uint8\-\_\-t mask, uint8\-\_\-t data)
\item 
void \hyperlink{class_m_c_p2515_ae466f10eea5ccf0f36439757d4baf6b5}{Read\-Status} (uint8\-\_\-t \&byte)
\item 
void \hyperlink{class_m_c_p2515_a37771e54c401a0d11b16599f4a3b85df}{Load\-Tx\-Frame} (\hyperlink{struct_c_a_n___m_e_s_s_a_g_e}{C\-A\-N\-\_\-\-M\-E\-S\-S\-A\-G\-E} \&message)
\item 
void \hyperlink{class_m_c_p2515_af6853f82074a0be19d5a0516a959515e}{Rx\-Status} (uint8\-\_\-t \&byte)
\item 
void \hyperlink{class_m_c_p2515_a2035c6707e66a98d92003a3fc99aa784}{Read\-Rx\-Frame} (\hyperlink{struct_c_a_n___m_e_s_s_a_g_e}{C\-A\-N\-\_\-\-M\-E\-S\-S\-A\-G\-E} \&message)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_m_c_p2515}{M\-C\-P2515} \& \hyperlink{class_m_c_p2515_a3f53839a9258086fd21e2fc4190de60d}{Get\-Instance} ()
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_s_p_i___n_1_1_s_p_i}{S\-P\-I\-\_\-\-N\-::\-S\-P\-I} $\ast$ \hyperlink{class_m_c_p2515_a3a5ca0d606115f1551a06d871606540e}{spi\-\_\-driver}
\item 
bool \hyperlink{class_m_c_p2515_a2cdd8da004f1f17e1f17d426071d80b9}{clear\-\_\-to\-\_\-send} = true
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_m_c_p2515_aee50ec5936d22b665b9a06ff6bafd1b9}{I\-N\-T0\-\_\-vect} ()
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A singleton class which implements the communication between the A\-V\-R and the \hyperlink{class_m_c_p2515}{M\-C\-P2515}. Throughout the documentation of this class, we will refer to the datasheet of the chip. This can be found at \href{http://ww1.microchip.com/downloads/en/DeviceDoc/21801G.pdf}{\tt Microchips site} 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_m_c_p2515_a8cd4111604b740feb758bd4d077f4fb8}{\index{M\-C\-P2515@{M\-C\-P2515}!M\-C\-P2515@{M\-C\-P2515}}
\index{M\-C\-P2515@{M\-C\-P2515}!MCP2515@{M\-C\-P2515}}
\subsubsection[{M\-C\-P2515}]{\setlength{\rightskip}{0pt plus 5cm}M\-C\-P2515\-::\-M\-C\-P2515 (
\begin{DoxyParamCaption}
\item[{const {\bf M\-C\-P2515} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [delete]}}}\label{class_m_c_p2515_a8cd4111604b740feb758bd4d077f4fb8}
Because of singleton -\/ makes sure its not copied etc. 

\subsection{Member Function Documentation}
\hypertarget{class_m_c_p2515_aa9a35fe139adf1fccaaceec561544c14}{\index{M\-C\-P2515@{M\-C\-P2515}!Bit\-Modify@{Bit\-Modify}}
\index{Bit\-Modify@{Bit\-Modify}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Bit\-Modify}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Bit\-Modify (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{register\-\_\-address, }
\item[{uint8\-\_\-t}]{mask, }
\item[{uint8\-\_\-t}]{data}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_aa9a35fe139adf1fccaaceec561544c14}
Modifies the given \hyperlink{class_m_c_p2515}{M\-C\-P2515} register with a bitmask. Please see \href{http://ww1.microchip.com/downloads/en/DeviceDoc/21801G.pdf}{\tt M\-C\-P2515 datasheet} page 66 
\begin{DoxyParams}{Parameters}
{\em register\-\_\-address} & The address to the \hyperlink{class_m_c_p2515}{M\-C\-P2515} register \\
\hline
{\em mask} & Defines which bits to be modified \\
\hline
{\em data} & The byte to be written \\
\hline
\end{DoxyParams}
\hypertarget{class_m_c_p2515_a3f53839a9258086fd21e2fc4190de60d}{\index{M\-C\-P2515@{M\-C\-P2515}!Get\-Instance@{Get\-Instance}}
\index{Get\-Instance@{Get\-Instance}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Get\-Instance}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf M\-C\-P2515}\& M\-C\-P2515\-::\-Get\-Instance (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{class_m_c_p2515_a3f53839a9258086fd21e2fc4190de60d}
A Singleton implementation of this class \hypertarget{class_m_c_p2515_a60a93ccc1a0b21caaba5fda5f88117d2}{\index{M\-C\-P2515@{M\-C\-P2515}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Initialize}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Initialize (
\begin{DoxyParamCaption}
\item[{{\bf S\-P\-I\-\_\-\-N\-::\-S\-P\-I} $\ast$}]{spi, }
\item[{uint16\-\_\-t}]{identifier}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_a60a93ccc1a0b21caaba5fda5f88117d2}
Initializes the \hyperlink{class_m_c_p2515}{M\-C\-P2515} driver. 
\begin{DoxyParams}{Parameters}
{\em spi} & The singleton instance of the S\-P\-I driver \\
\hline
\end{DoxyParams}
\hypertarget{class_m_c_p2515_a37771e54c401a0d11b16599f4a3b85df}{\index{M\-C\-P2515@{M\-C\-P2515}!Load\-Tx\-Frame@{Load\-Tx\-Frame}}
\index{Load\-Tx\-Frame@{Load\-Tx\-Frame}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Load\-Tx\-Frame}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Load\-Tx\-Frame (
\begin{DoxyParamCaption}
\item[{{\bf C\-A\-N\-\_\-\-M\-E\-S\-S\-A\-G\-E} \&}]{message}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_a37771e54c401a0d11b16599f4a3b85df}
Loads the transmit frame, i.\-e. sends the \hyperlink{class_c_a_n}{C\-A\-N} data to the \hyperlink{class_m_c_p2515}{M\-C\-P2515} 
\begin{DoxyParams}{Parameters}
{\em message} & The \hyperlink{struct_c_a_n___m_e_s_s_a_g_e}{C\-A\-N\-\_\-\-M\-E\-S\-S\-A\-G\-E} to be loaded into the T\-X frame \\
\hline
\end{DoxyParams}
\hypertarget{class_m_c_p2515_a09ef6973daccbf868d89986e727cfa1b}{\index{M\-C\-P2515@{M\-C\-P2515}!Read\-From\-Register@{Read\-From\-Register}}
\index{Read\-From\-Register@{Read\-From\-Register}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Read\-From\-Register}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Read\-From\-Register (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{register\-\_\-address, }
\item[{uint8\-\_\-t \&}]{byte}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_a09ef6973daccbf868d89986e727cfa1b}
Reads from the given \hyperlink{class_m_c_p2515}{M\-C\-P2515} register 
\begin{DoxyParams}{Parameters}
{\em register\-\_\-address} & The address to the \hyperlink{class_m_c_p2515}{M\-C\-P2515} register \\
\hline
{\em byte} & The byte to be written into \\
\hline
\end{DoxyParams}
\hypertarget{class_m_c_p2515_a2035c6707e66a98d92003a3fc99aa784}{\index{M\-C\-P2515@{M\-C\-P2515}!Read\-Rx\-Frame@{Read\-Rx\-Frame}}
\index{Read\-Rx\-Frame@{Read\-Rx\-Frame}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Read\-Rx\-Frame}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Read\-Rx\-Frame (
\begin{DoxyParamCaption}
\item[{{\bf C\-A\-N\-\_\-\-M\-E\-S\-S\-A\-G\-E} \&}]{message}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_a2035c6707e66a98d92003a3fc99aa784}
Reads the Rx\-Frame, i.\-e. retrieves the recieved data 
\begin{DoxyParams}{Parameters}
{\em message} & The message to be written into \\
\hline
\end{DoxyParams}
\hypertarget{class_m_c_p2515_ae466f10eea5ccf0f36439757d4baf6b5}{\index{M\-C\-P2515@{M\-C\-P2515}!Read\-Status@{Read\-Status}}
\index{Read\-Status@{Read\-Status}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Read\-Status}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Read\-Status (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t \&}]{byte}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_ae466f10eea5ccf0f36439757d4baf6b5}
Gets the status byte from the \hyperlink{class_m_c_p2515}{M\-C\-P2515}. Please see \href{http://ww1.microchip.com/downloads/en/DeviceDoc/21801G.pdf}{\tt M\-C\-P2515 datasheet} page 65, {\itshape R\-E\-A\-D S\-T\-A\-T\-U\-S instruction} 
\begin{DoxyParams}{Parameters}
{\em byte} & The byte to be written into \\
\hline
\end{DoxyParams}
\hypertarget{class_m_c_p2515_a5a218199ca1dfcb25cb95890bc0220fc}{\index{M\-C\-P2515@{M\-C\-P2515}!Request\-To\-Send@{Request\-To\-Send}}
\index{Request\-To\-Send@{Request\-To\-Send}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Request\-To\-Send}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Request\-To\-Send (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_a5a218199ca1dfcb25cb95890bc0220fc}
Sends a R\-T\-S (Request to Send) signal to the \hyperlink{class_m_c_p2515}{M\-C\-P2515}. This is \hypertarget{class_m_c_p2515_aa4d4138b984dc87116cf72ae104acb70}{\index{M\-C\-P2515@{M\-C\-P2515}!Reset@{Reset}}
\index{Reset@{Reset}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Reset}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Reset (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_aa4d4138b984dc87116cf72ae104acb70}
Sends a reset command to the \hyperlink{class_m_c_p2515}{M\-C\-P2515} \hypertarget{class_m_c_p2515_af6853f82074a0be19d5a0516a959515e}{\index{M\-C\-P2515@{M\-C\-P2515}!Rx\-Status@{Rx\-Status}}
\index{Rx\-Status@{Rx\-Status}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Rx\-Status}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Rx\-Status (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t \&}]{byte}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_af6853f82074a0be19d5a0516a959515e}
Gets the Rx\-Status byte from the \hyperlink{class_m_c_p2515}{M\-C\-P2515}. Please see \href{http://ww1.microchip.com/downloads/en/DeviceDoc/21801G.pdf}{\tt M\-C\-P2515 datasheet} page 66, {\itshape R\-X S\-T\-A\-T\-U\-S instruction} 
\begin{DoxyParams}{Parameters}
{\em byte} & The byte to be written into \\
\hline
\end{DoxyParams}
\hypertarget{class_m_c_p2515_aa8c9fe944f7e6e99feb3f56a1c099a29}{\index{M\-C\-P2515@{M\-C\-P2515}!Send\-Message@{Send\-Message}}
\index{Send\-Message@{Send\-Message}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Send\-Message}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Send\-Message (
\begin{DoxyParamCaption}
\item[{{\bf C\-A\-N\-\_\-\-M\-E\-S\-S\-A\-G\-E} \&}]{message}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_m_c_p2515_aa8c9fe944f7e6e99feb3f56a1c099a29}
Sends a \hyperlink{class_c_a_n}{C\-A\-N} message 
\begin{DoxyParams}{Parameters}
{\em message} & The \hyperlink{class_c_a_n}{C\-A\-N} message to be sent \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_c_a_n}{C\-A\-N}.

\hypertarget{class_m_c_p2515_a7aac5fdb713b83933391348f1188f2b9}{\index{M\-C\-P2515@{M\-C\-P2515}!Set\-Loopback@{Set\-Loopback}}
\index{Set\-Loopback@{Set\-Loopback}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Set\-Loopback}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Set\-Loopback (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_a7aac5fdb713b83933391348f1188f2b9}
Initiates the loopback mode of the \hyperlink{class_m_c_p2515}{M\-C\-P2515}. Please consult the \href{http://ww1.microchip.com/downloads/en/DeviceDoc/21801G.pdf}{\tt M\-C\-P2515 datasheet} \hypertarget{class_m_c_p2515_a58601a9d30863ebac441d641ddfac44e}{\index{M\-C\-P2515@{M\-C\-P2515}!Set\-Normal@{Set\-Normal}}
\index{Set\-Normal@{Set\-Normal}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Set\-Normal}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Set\-Normal (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_a58601a9d30863ebac441d641ddfac44e}
Initiates the normal mode of the \hyperlink{class_m_c_p2515}{M\-C\-P2515}. Please consult the \href{http://ww1.microchip.com/downloads/en/DeviceDoc/21801G.pdf}{\tt M\-C\-P2515 datasheet} \hypertarget{class_m_c_p2515_adbc005a5975b77b0aef74363f3832f9b}{\index{M\-C\-P2515@{M\-C\-P2515}!Write\-To\-Register@{Write\-To\-Register}}
\index{Write\-To\-Register@{Write\-To\-Register}!MCP2515@{M\-C\-P2515}}
\subsubsection[{Write\-To\-Register}]{\setlength{\rightskip}{0pt plus 5cm}void M\-C\-P2515\-::\-Write\-To\-Register (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{register\-\_\-address, }
\item[{uint8\-\_\-t}]{byte}
\end{DoxyParamCaption}
)}}\label{class_m_c_p2515_adbc005a5975b77b0aef74363f3832f9b}
Writes to the given \hyperlink{class_m_c_p2515}{M\-C\-P2515} register 
\begin{DoxyParams}{Parameters}
{\em register\-\_\-address} & The address to the \hyperlink{class_m_c_p2515}{M\-C\-P2515} register \\
\hline
{\em byte} & The byte to be written to the given register \\
\hline
\end{DoxyParams}


\subsection{Friends And Related Function Documentation}
\hypertarget{class_m_c_p2515_aee50ec5936d22b665b9a06ff6bafd1b9}{\index{M\-C\-P2515@{M\-C\-P2515}!I\-N\-T0\-\_\-vect@{I\-N\-T0\-\_\-vect}}
\index{I\-N\-T0\-\_\-vect@{I\-N\-T0\-\_\-vect}!MCP2515@{M\-C\-P2515}}
\subsubsection[{I\-N\-T0\-\_\-vect}]{\setlength{\rightskip}{0pt plus 5cm}void I\-N\-T0\-\_\-vect (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [friend]}}}\label{class_m_c_p2515_aee50ec5936d22b665b9a06ff6bafd1b9}
The \hyperlink{class_m_c_p2515}{M\-C\-P2515} interrupt handler 

\subsection{Member Data Documentation}
\hypertarget{class_m_c_p2515_a2cdd8da004f1f17e1f17d426071d80b9}{\index{M\-C\-P2515@{M\-C\-P2515}!clear\-\_\-to\-\_\-send@{clear\-\_\-to\-\_\-send}}
\index{clear\-\_\-to\-\_\-send@{clear\-\_\-to\-\_\-send}!MCP2515@{M\-C\-P2515}}
\subsubsection[{clear\-\_\-to\-\_\-send}]{\setlength{\rightskip}{0pt plus 5cm}bool M\-C\-P2515\-::clear\-\_\-to\-\_\-send = true}}\label{class_m_c_p2515_a2cdd8da004f1f17e1f17d426071d80b9}
Flag indicating wether or not you can load the T\-X frame. \hypertarget{class_m_c_p2515_a3a5ca0d606115f1551a06d871606540e}{\index{M\-C\-P2515@{M\-C\-P2515}!spi\-\_\-driver@{spi\-\_\-driver}}
\index{spi\-\_\-driver@{spi\-\_\-driver}!MCP2515@{M\-C\-P2515}}
\subsubsection[{spi\-\_\-driver}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-P\-I\-\_\-\-N\-::\-S\-P\-I}$\ast$ M\-C\-P2515\-::spi\-\_\-driver}}\label{class_m_c_p2515_a3a5ca0d606115f1551a06d871606540e}
The S\-P\-I Driver the \hyperlink{class_m_c_p2515}{M\-C\-P2515} uses. 

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
lib/mcp2515/mcp2515.\-h\item 
lib/mcp2515/mcp2515.\-cpp\end{DoxyCompactItemize}
