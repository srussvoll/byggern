\hypertarget{class_s_p_i_1_1_s_p_i}{}\section{S\+PI\+:\+:S\+PI Class Reference}
\label{class_s_p_i_1_1_s_p_i}\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}


An \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} driver which implements the A\+VR \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} interface.  




{\ttfamily \#include $<$spi.\+h$>$}

Inheritance diagram for S\+PI\+:\+:S\+PI\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_s_p_i_1_1_s_p_i}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_s_p_i_1_1_s_p_i_a3892e59b84bed60d98ce7ee8909d1744}{S\+PI} (const \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} \&)=delete
\item 
void \hyperlink{class_s_p_i_1_1_s_p_i_a1f6f97ecc8aec31173c61179ee5c6aae}{operator=} (const \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} \&)=delete
\item 
void \hyperlink{class_s_p_i_1_1_s_p_i_a4c48f641a89d5b72428979f39c9fa96f}{Set\+Device} (\hyperlink{struct_s_p_i_1_1_p_i_n}{P\+IN} pin)
\item 
void \hyperlink{class_s_p_i_1_1_s_p_i_a8d047c13b1bc93dd9b31c91d7d5081e9}{Initialize} (\hyperlink{struct_s_p_i_1_1_p_i_n}{P\+IN} $\ast$pins, uint8\+\_\+t number\+\_\+of\+\_\+pins, bool clock\+\_\+polarity\+\_\+falling, bool clock\+\_\+phase\+\_\+trailing)
\item 
void \hyperlink{class_s_p_i_1_1_s_p_i_a29a9a80b0e7a32f25b7571205344a84d}{Write\+Byte} (uint8\+\_\+t byte, bool wait)
\item 
void \hyperlink{class_s_p_i_1_1_s_p_i_a2cd0f0612198d4e6a793ce794c016b9d}{Write\+Byte\+And\+Throw\+Away\+Data} (uint8\+\_\+t byte, bool wait)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} \& \hyperlink{class_s_p_i_1_1_s_p_i_aeb00a468750e8f183eeaca0d0ffaf9f3}{Get\+Instance} ()
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_s_p_i_1_1_p_i_n}{P\+IN} \hyperlink{class_s_p_i_1_1_s_p_i_a3dc3f87f8ee3f3b5776e21fc4b72efbc}{current\+\_\+pin}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_s_p_i_1_1_s_p_i_ac1ee59045bad0aa3dc8574519b0f6ed9}{S\+PI} ()
\item 
void \hyperlink{class_s_p_i_1_1_s_p_i_af7228363cbb82ca2faa8ef29a1819d31}{Initialize\+Transmission} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
volatile bool \hyperlink{class_s_p_i_1_1_s_p_i_a965dfd15d040742db8fc022535e95a61}{ongoing\+\_\+transmission} = false
\item 
uint8\+\_\+t \hyperlink{class_s_p_i_1_1_s_p_i_a997d2f4abbb126ec00ba3a4abe2940ac}{throw\+\_\+away\+\_\+data\+\_\+count} = 0
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_s_p_i_1_1_s_p_i_a96543550133e0b0c6ae83faad5c0d68d}{S\+P\+I\+\_\+\+S\+T\+C\+\_\+vect} ()
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
An \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} driver which implements the A\+VR \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} interface. 

An \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} driver which implements the A\+VR \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} interface. Uses the S\+T\+R\+E\+AM class as both input and output buffer. Supports all four modes of \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} (please see the Initialize function). Uses interrupt for when a transfer is complete 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_s_p_i_1_1_s_p_i_ac1ee59045bad0aa3dc8574519b0f6ed9}{}\label{class_s_p_i_1_1_s_p_i_ac1ee59045bad0aa3dc8574519b0f6ed9} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!S\+PI@{S\+PI}}
\index{S\+PI@{S\+PI}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{S\+P\+I()}{SPI()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily S\+P\+I\+::\+S\+P\+I\+::\+S\+PI (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Initializer for \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI}. Not used because of singleton \hypertarget{class_s_p_i_1_1_s_p_i_a3892e59b84bed60d98ce7ee8909d1744}{}\label{class_s_p_i_1_1_s_p_i_a3892e59b84bed60d98ce7ee8909d1744} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!S\+PI@{S\+PI}}
\index{S\+PI@{S\+PI}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{S\+P\+I()}{SPI()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily S\+P\+I\+::\+S\+P\+I\+::\+S\+PI (\begin{DoxyParamCaption}\item[{const \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

Because of singleton -\/ makes sure its not copied etc. 

\subsection{Member Function Documentation}
\hypertarget{class_s_p_i_1_1_s_p_i_aeb00a468750e8f183eeaca0d0ffaf9f3}{}\label{class_s_p_i_1_1_s_p_i_aeb00a468750e8f183eeaca0d0ffaf9f3} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!Get\+Instance@{Get\+Instance}}
\index{Get\+Instance@{Get\+Instance}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{Get\+Instance()}{GetInstance()}}
{\footnotesize\ttfamily static \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI}\& S\+P\+I\+::\+S\+P\+I\+::\+Get\+Instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

A Singleton implementation of this class \hypertarget{class_s_p_i_1_1_s_p_i_a8d047c13b1bc93dd9b31c91d7d5081e9}{}\label{class_s_p_i_1_1_s_p_i_a8d047c13b1bc93dd9b31c91d7d5081e9} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily void S\+P\+I\+::\+S\+P\+I\+::\+Initialize (\begin{DoxyParamCaption}\item[{\hyperlink{struct_s_p_i_1_1_p_i_n}{P\+IN} $\ast$}]{pins,  }\item[{uint8\+\_\+t}]{number\+\_\+of\+\_\+pins,  }\item[{bool}]{clock\+\_\+polarity\+\_\+falling = {\ttfamily 0},  }\item[{bool}]{clock\+\_\+phase\+\_\+trailing = {\ttfamily 0} }\end{DoxyParamCaption})}

Initializes the \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI}. 
\begin{DoxyParams}{Parameters}
{\em pins} & An array with \hyperlink{struct_s_p_i_1_1_p_i_n}{P\+IN} structs, where each struct is a pin that is used by the \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} \\
\hline
{\em number\+\_\+of\+\_\+pins} & Number of \hyperlink{struct_s_p_i_1_1_p_i_n}{P\+IN} structs in the pins array \\
\hline
{\em clock\+\_\+polarity\+\_\+falling} & If enabled, S\+CK is high when idle. Defaults to disabled (S\+CK low when idle) \\
\hline
{\em clock\+\_\+phase\+\_\+trailing} & If enabled, samples on the trailing edge of S\+CK\+: Defaults to disabled (sample on the leading edge) \\
\hline
\end{DoxyParams}
\hypertarget{class_s_p_i_1_1_s_p_i_af7228363cbb82ca2faa8ef29a1819d31}{}\label{class_s_p_i_1_1_s_p_i_af7228363cbb82ca2faa8ef29a1819d31} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!Initialize\+Transmission@{Initialize\+Transmission}}
\index{Initialize\+Transmission@{Initialize\+Transmission}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{Initialize\+Transmission()}{InitializeTransmission()}}
{\footnotesize\ttfamily void S\+P\+I\+::\+S\+P\+I\+::\+Initialize\+Transmission (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Send the data in the output buffer onto the \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI}. \hypertarget{class_s_p_i_1_1_s_p_i_a1f6f97ecc8aec31173c61179ee5c6aae}{}\label{class_s_p_i_1_1_s_p_i_a1f6f97ecc8aec31173c61179ee5c6aae} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!operator=@{operator=}}
\index{operator=@{operator=}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily void S\+P\+I\+::\+S\+P\+I\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

Because of singleton -\/ makes sure its not copied etc. \hypertarget{class_s_p_i_1_1_s_p_i_a4c48f641a89d5b72428979f39c9fa96f}{}\label{class_s_p_i_1_1_s_p_i_a4c48f641a89d5b72428979f39c9fa96f} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!Set\+Device@{Set\+Device}}
\index{Set\+Device@{Set\+Device}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{Set\+Device()}{SetDevice()}}
{\footnotesize\ttfamily void S\+P\+I\+::\+S\+P\+I\+::\+Set\+Device (\begin{DoxyParamCaption}\item[{\hyperlink{struct_s_p_i_1_1_p_i_n}{P\+IN}}]{pin }\end{DoxyParamCaption})}

Sets the device the \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} driver is going to use. This must be called in order for it to function. The device passed into set device must also have been initialized in the Initialize function when initializing the \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} driver 
\begin{DoxyParams}{Parameters}
{\em pin} & The \hyperlink{struct_s_p_i_1_1_p_i_n}{P\+IN} the \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} is going to use \\
\hline
\end{DoxyParams}
\hypertarget{class_s_p_i_1_1_s_p_i_a29a9a80b0e7a32f25b7571205344a84d}{}\label{class_s_p_i_1_1_s_p_i_a29a9a80b0e7a32f25b7571205344a84d} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!Write\+Byte@{Write\+Byte}}
\index{Write\+Byte@{Write\+Byte}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{Write\+Byte()}{WriteByte()}}
{\footnotesize\ttfamily void S\+P\+I\+::\+S\+P\+I\+::\+Write\+Byte (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{byte,  }\item[{bool}]{wait }\end{DoxyParamCaption})}

Writes a byte to the output stream. Puts the returned data into the input stream 
\begin{DoxyParams}{Parameters}
{\em byte} & The byte to be sent \\
\hline
{\em wait} & If set, the \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} driver will not start the transmission of the output buffer \\
\hline
\end{DoxyParams}
\hypertarget{class_s_p_i_1_1_s_p_i_a2cd0f0612198d4e6a793ce794c016b9d}{}\label{class_s_p_i_1_1_s_p_i_a2cd0f0612198d4e6a793ce794c016b9d} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!Write\+Byte\+And\+Throw\+Away\+Data@{Write\+Byte\+And\+Throw\+Away\+Data}}
\index{Write\+Byte\+And\+Throw\+Away\+Data@{Write\+Byte\+And\+Throw\+Away\+Data}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{Write\+Byte\+And\+Throw\+Away\+Data()}{WriteByteAndThrowAwayData()}}
{\footnotesize\ttfamily void S\+P\+I\+::\+S\+P\+I\+::\+Write\+Byte\+And\+Throw\+Away\+Data (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{byte,  }\item[{bool}]{wait }\end{DoxyParamCaption})}

Writes a byte to the output stream. Throws away the returned data 
\begin{DoxyParams}{Parameters}
{\em byte} & The byte to be sent \\
\hline
{\em wait} & If set, the \hyperlink{class_s_p_i_1_1_s_p_i}{S\+PI} driver will not start the transmission of the output buffer \\
\hline
\end{DoxyParams}


\subsection{Friends And Related Function Documentation}
\hypertarget{class_s_p_i_1_1_s_p_i_a96543550133e0b0c6ae83faad5c0d68d}{}\label{class_s_p_i_1_1_s_p_i_a96543550133e0b0c6ae83faad5c0d68d} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!S\+P\+I\+\_\+\+S\+T\+C\+\_\+vect@{S\+P\+I\+\_\+\+S\+T\+C\+\_\+vect}}
\index{S\+P\+I\+\_\+\+S\+T\+C\+\_\+vect@{S\+P\+I\+\_\+\+S\+T\+C\+\_\+vect}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{S\+P\+I\+\_\+\+S\+T\+C\+\_\+vect}{SPI\_STC\_vect}}
{\footnotesize\ttfamily void S\+P\+I\+\_\+\+S\+T\+C\+\_\+vect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}

The interrupt vector for when a transmission is complete. 

\subsection{Member Data Documentation}
\hypertarget{class_s_p_i_1_1_s_p_i_a3dc3f87f8ee3f3b5776e21fc4b72efbc}{}\label{class_s_p_i_1_1_s_p_i_a3dc3f87f8ee3f3b5776e21fc4b72efbc} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!current\+\_\+pin@{current\+\_\+pin}}
\index{current\+\_\+pin@{current\+\_\+pin}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{current\+\_\+pin}{current\_pin}}
{\footnotesize\ttfamily \hyperlink{struct_s_p_i_1_1_p_i_n}{P\+IN} S\+P\+I\+::\+S\+P\+I\+::current\+\_\+pin}

A struct of the type \hyperlink{struct_s_p_i_1_1_p_i_n}{P\+IN} which indicates which pin is currently selected. \hypertarget{class_s_p_i_1_1_s_p_i_a965dfd15d040742db8fc022535e95a61}{}\label{class_s_p_i_1_1_s_p_i_a965dfd15d040742db8fc022535e95a61} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!ongoing\+\_\+transmission@{ongoing\+\_\+transmission}}
\index{ongoing\+\_\+transmission@{ongoing\+\_\+transmission}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{ongoing\+\_\+transmission}{ongoing\_transmission}}
{\footnotesize\ttfamily volatile bool S\+P\+I\+::\+S\+P\+I\+::ongoing\+\_\+transmission = false\hspace{0.3cm}{\ttfamily [private]}}

A bool indicating wether or not an outgoing transmission is ongoing \hypertarget{class_s_p_i_1_1_s_p_i_a997d2f4abbb126ec00ba3a4abe2940ac}{}\label{class_s_p_i_1_1_s_p_i_a997d2f4abbb126ec00ba3a4abe2940ac} 
\index{S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}!throw\+\_\+away\+\_\+data\+\_\+count@{throw\+\_\+away\+\_\+data\+\_\+count}}
\index{throw\+\_\+away\+\_\+data\+\_\+count@{throw\+\_\+away\+\_\+data\+\_\+count}!S\+P\+I\+::\+S\+PI@{S\+P\+I\+::\+S\+PI}}
\subsubsection{\texorpdfstring{throw\+\_\+away\+\_\+data\+\_\+count}{throw\_away\_data\_count}}
{\footnotesize\ttfamily uint8\+\_\+t S\+P\+I\+::\+S\+P\+I\+::throw\+\_\+away\+\_\+data\+\_\+count = 0\hspace{0.3cm}{\ttfamily [private]}}

A flag indicating how many transfer we are going to not care about the data received 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/spi/spi.\+h\item 
lib/spi/spi.\+cpp\end{DoxyCompactItemize}
